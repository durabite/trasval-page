---
// src/components/LogoCarousel.astro
const logos = [
  "/images/logos/01.png",
  "/images/logos/02.png",
  "/images/logos/03.png",
  "/images/logos/04.png",
  "/images/logos/05.png",
  "/images/logos/06.png",
  "/images/logos/07.png",
  "/images/logos/08.png",
  "/images/logos/09.png",
  "/images/logos/10.png",
  "/images/logos/11.png"
];
---

<div class="logo-carousel-container bg-gray-100 py-12">
  <div class="container-fixed mx-auto">
    <h2 class="text-3xl font-bold mb-4 text-azul-trasval">Nuestros Clientes</h2>
    <p class="mb-4 text-lg">Algunos de nuestros clientes y amigos que han confiado en nosotros</p>
    <div class="logo-carousel overflow-hidden">
      <div class="logo-slide flex">
        {logos.map((logo, index) => (
          <div class="logo-item w-1/3 sm:w-1/4 md:w-1/5 lg:w-1/6 flex-shrink-0">
            <div class="bg-white p-2 rounded-lg shadow-md aspect-square flex items-center justify-center mx-1">
              <img src={logo} alt={`Logo de cliente ${index + 1}`} class="max-w-full max-h-full object-contain" />
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</div>

<style>
  .logo-carousel {
    position: relative;
  }
  .logo-slide {
    display: flex;
    animation: slide 30s linear infinite;
  }
  @keyframes slide {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-100%);
    }
  }
  .logo-item img {
    width: 90%;
    height: 90%;
  }
</style>

<script>
  function duplicateLogos() {
    const logoSlide = document.querySelector('.logo-slide');
    if (logoSlide) {
      const clone = logoSlide.cloneNode(true);
      logoSlide.appendChild(clone.childNodes[0]);
    }
  }

  document.addEventListener('astro:page-load', duplicateLogos);
</script>